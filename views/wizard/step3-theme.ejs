<%- include('../partials/_header', { user: true }) %>

<div class="container mt-4">
  <div class="wizard-container">
    <div class="wizard-progress">
      <div class="progress">
        <div class="progress-bar" role="progressbar" style="width: <%= (step / totalSteps) * 100 %>%" aria-valuenow="<%= (step / totalSteps) * 100 %>" aria-valuemin="0" aria-valuemax="100"></div>
      </div>
      <div class="step-indicator">
        Step <%= step %> of <%= totalSteps %>: <%= title %>
      </div>
    </div>
    
    <div class="card">
      <div class="card-body">
        <h2 class="card-title text-center">Theme Selection</h2>
        <p class="card-text text-center">Choose colors and fonts for your website</p>
        
        <form action="/wizard/theme" method="POST" class="wizard-form" id="themeForm">
          <!-- Add color scheme grid here -->
          <div class="form-group mb-4">
            <label>Choose Color Scheme</label>
            <div class="color-scheme-grid">
              <!-- Row 1 -->
              <div class="color-scheme" data-primary="#8B2323" data-secondary="#EED5B7">
                <div class="color-stripe" style="background-color: #8B2323"></div>
                <div class="color-stripe" style="background-color: #A52A2A"></div>
                <div class="color-stripe" style="background-color: #B22222"></div>
                <div class="color-stripe" style="background-color: #CD5C5C"></div>
                <div class="color-stripe" style="background-color: #EED5B7"></div>
              </div>
              <div class="color-scheme" data-primary="#C71585" data-secondary="#00CED1">
                <div class="color-stripe" style="background-color: #C71585"></div>
                <div class="color-stripe" style="background-color: #FF69B4"></div>
                <div class="color-stripe" style="background-color: #FFD700"></div>
                <div class="color-stripe" style="background-color: #98FB98"></div>
                <div class="color-stripe" style="background-color: #00CED1"></div>
              </div>
              <div class="color-scheme" data-primary="#4169E1" data-secondary="#FFA07A">
                <div class="color-stripe" style="background-color: #4169E1"></div>
                <div class="color-stripe" style="background-color: #87CEEB"></div>
                <div class="color-stripe" style="background-color: #F5F5F5"></div>
                <div class="color-stripe" style="background-color: #FFA07A"></div>
                <div class="color-stripe" style="background-color: #2F4F4F"></div>
              </div>
              <div class="color-scheme" data-primary="#008080" data-secondary="#DC143C">
                <div class="color-stripe" style="background-color: #008080"></div>
                <div class="color-stripe" style="background-color: #20B2AA"></div>
                <div class="color-stripe" style="background-color: #FFFAFA"></div>
                <div class="color-stripe" style="background-color: #FFB6C1"></div>
                <div class="color-stripe" style="background-color: #DC143C"></div>
              </div>
              
              <!-- Row 2 -->
              <div class="color-scheme" data-primary="#FF0000" data-secondary="#333333">
                <div class="color-stripe" style="background-color: #FF0000"></div>
                <div class="color-stripe" style="background-color: #0000FF"></div>
                <div class="color-stripe" style="background-color: #FFFF00"></div>
                <div class="color-stripe" style="background-color: #666666"></div>
                <div class="color-stripe" style="background-color: #333333"></div>
              </div>
              <div class="color-scheme" data-primary="#7CFC00" data-secondary="#9932CC">
                <div class="color-stripe" style="background-color: #7CFC00"></div>
                <div class="color-stripe" style="background-color: #ADFF2F"></div>
                <div class="color-stripe" style="background-color: #32CD32"></div>
                <div class="color-stripe" style="background-color: #8A2BE2"></div>
                <div class="color-stripe" style="background-color: #9932CC"></div>
              </div>
              <div class="color-scheme" data-primary="#4682B4" data-secondary="#FF8C00">
                <div class="color-stripe" style="background-color: #4682B4"></div>
                <div class="color-stripe" style="background-color: #6495ED"></div>
                <div class="color-stripe" style="background-color: #B0C4DE"></div>
                <div class="color-stripe" style="background-color: #FFA500"></div>
                <div class="color-stripe" style="background-color: #FF8C00"></div>
              </div>
              <div class="color-scheme" data-primary="#556B2F" data-secondary="#FF1493">
                <div class="color-stripe" style="background-color: #556B2F"></div>
                <div class="color-stripe" style="background-color: #6B8E23"></div>
                <div class="color-stripe" style="background-color: #9ACD32"></div>
                <div class="color-stripe" style="background-color: #FFC0CB"></div>
                <div class="color-stripe" style="background-color: #FF1493"></div>
              </div>
              
              <!-- Row 3 -->
              <div class="color-scheme" data-primary="#333333" data-secondary="#FF6347">
                <div class="color-stripe" style="background-color: #333333"></div>
                <div class="color-stripe" style="background-color: #696969"></div>
                <div class="color-stripe" style="background-color: #A9A9A9"></div>
                <div class="color-stripe" style="background-color: #F5F5F5"></div>
                <div class="color-stripe" style="background-color: #FF6347"></div>
              </div>
              <div class="color-scheme" data-primary="#FF4500" data-secondary="#9370DB">
                <div class="color-stripe" style="background-color: #FF4500"></div>
                <div class="color-stripe" style="background-color: #FF7F50"></div>
                <div class="color-stripe" style="background-color: #FFA07A"></div>
                <div class="color-stripe" style="background-color: #B0C4DE"></div>
                <div class="color-stripe" style="background-color: #9370DB"></div>
              </div>
              <div class="color-scheme" data-primary="#5F9EA0" data-secondary="#FF69B4">
                <div class="color-stripe" style="background-color: #5F9EA0"></div>
                <div class="color-stripe" style="background-color: #E0FFFF"></div>
                <div class="color-stripe" style="background-color: #FFDAB9"></div>
                <div class="color-stripe" style="background-color: #FADADD"></div>
                <div class="color-stripe" style="background-color: #FF69B4"></div>
              </div>
              <div class="color-scheme" data-primary="#2E8B57" data-secondary="#4B0082">
                <div class="color-stripe" style="background-color: #2E8B57"></div>
                <div class="color-stripe" style="background-color: #3CB371"></div>
                <div class="color-stripe" style="background-color: #F0F8FF"></div>
                <div class="color-stripe" style="background-color: #9370DB"></div>
                <div class="color-stripe" style="background-color: #4B0082"></div>
              </div>
              
              <!-- Row 4 -->
              <div class="color-scheme" data-primary="#9ACD32" data-secondary="#FF69B4">
                <div class="color-stripe" style="background-color: #9ACD32"></div>
                <div class="color-stripe" style="background-color: #FAFAD2"></div>
                <div class="color-stripe" style="background-color: #FFE4E1"></div>
                <div class="color-stripe" style="background-color: #FFC0CB"></div>
                <div class="color-stripe" style="background-color: #FF69B4"></div>
              </div>
              <div class="color-scheme" data-primary="#FF8C00" data-secondary="#8A2BE2">
                <div class="color-stripe" style="background-color: #FF8C00"></div>
                <div class="color-stripe" style="background-color: #FFA500"></div>
                <div class="color-stripe" style="background-color: #FFFACD"></div>
                <div class="color-stripe" style="background-color: #E6E6FA"></div>
                <div class="color-stripe" style="background-color: #8A2BE2"></div>
              </div>
              <div class="color-scheme" data-primary="#1E90FF" data-secondary="#FFD700">
                <div class="color-stripe" style="background-color: #1E90FF"></div>
                <div class="color-stripe" style="background-color: #00BFFF"></div>
                <div class="color-stripe" style="background-color: #87CEFA"></div>
                <div class="color-stripe" style="background-color: #FFFFED"></div>
                <div class="color-stripe" style="background-color: #FFD700"></div>
              </div>
              <div class="color-scheme" data-primary="#8B4513" data-secondary="#BEBEBE">
                <div class="color-stripe" style="background-color: #8B4513"></div>
                <div class="color-stripe" style="background-color: #D2B48C"></div>
                <div class="color-stripe" style="background-color: #F5DEB3"></div>
                <div class="color-stripe" style="background-color: #F5F5F5"></div>
                <div class="color-stripe" style="background-color: #BEBEBE"></div>
              </div>
            </div>
          </div>
          
          <div class="row">
            <div class="col-md-6">
              <div class="form-group mb-3">
                <label for="primaryColor">Primary Color</label>
                <div class="input-group">
                  <input type="color" class="form-control form-control-color" id="primaryColor" name="primaryColor" value="<%= typeof data !== 'undefined' && data.primaryColor ? data.primaryColor : '#007bff' %>" data-preview="primaryColorPreview">
                  <input type="text" class="form-control" id="primaryColorHex" value="<%= typeof data !== 'undefined' && data.primaryColor ? data.primaryColor : '#007bff' %>" readonly>
                  <span class="input-group-text"><span id="primaryColorPreview" class="color-preview" style="background-color: <%= typeof data !== 'undefined' && data.primaryColor ? data.primaryColor : '#007bff' %>"></span></span>
                </div>
                <div class="form-text">Used for buttons, headings, and accents.</div>
              </div>
            </div>
            
            <div class="col-md-6">
              <div class="form-group mb-3">
                <label for="secondaryColor">Secondary Color</label>
                <div class="input-group">
                  <input type="color" class="form-control form-control-color" id="secondaryColor" name="secondaryColor" value="<%= typeof data !== 'undefined' && data.secondaryColor ? data.secondaryColor : '#6c757d' %>" data-preview="secondaryColorPreview">
                  <input type="text" class="form-control" id="secondaryColorHex" value="<%= typeof data !== 'undefined' && data.secondaryColor ? data.secondaryColor : '#6c757d' %>" readonly>
                  <span class="input-group-text"><span id="secondaryColorPreview" class="color-preview" style="background-color: <%= typeof data !== 'undefined' && data.secondaryColor ? data.secondaryColor : '#6c757d' %>"></span></span>
                </div>
                <div class="form-text">Used for highlights and secondary elements.</div>
              </div>
            </div>
          </div>
          
          <div class="row">
            <div class="col-md-6">
              <div class="form-group mb-3">
                <label for="fontFamily">Font Family</label>
                <select class="form-select" id="fontFamily" name="fontFamily">
                  <option value="Open Sans" <%= typeof data !== 'undefined' && data.fontFamily === 'Open Sans' ? 'selected' : '' %>>Open Sans</option>
                  <option value="Roboto" <%= typeof data !== 'undefined' && data.fontFamily === 'Roboto' ? 'selected' : '' %>>Roboto</option>
                  <option value="Lato" <%= typeof data !== 'undefined' && data.fontFamily === 'Lato' ? 'selected' : '' %>>Lato</option>
                  <option value="Montserrat" <%= typeof data !== 'undefined' && data.fontFamily === 'Montserrat' ? 'selected' : '' %>>Montserrat</option>
                  <option value="Raleway" <%= typeof data !== 'undefined' && data.fontFamily === 'Raleway' ? 'selected' : '' %>>Raleway</option>
                  <option value="Playfair Display" <%= typeof data !== 'undefined' && data.fontFamily === 'Playfair Display' ? 'selected' : '' %>>Playfair Display</option>
                </select>
              </div>
            </div>
            
            <div class="col-md-6">
              <div class="form-group mb-3">
                <label for="fontStyle">Font Style Description</label>
                <input type="text" class="form-control" id="fontStyle" name="fontStyle" placeholder="e.g., Clean, professional, modern" value="<%= typeof data !== 'undefined' ? data.fontStyle : 'Clean, professional, modern' %>">
              </div>
            </div>
          </div>
          
          <div class="preview-box mt-3 mb-3 p-3 border rounded">
            <h4 style="font-family: <%= typeof data !== 'undefined' ? data.fontFamily : 'Open Sans' %>; color: <%= typeof data !== 'undefined' && data.primaryColor ? data.primaryColor : '#007bff' %>;">
              Preview Heading
            </h4>
            <p style="font-family: <%= typeof data !== 'undefined' ? data.fontFamily : 'Open Sans' %>;">
              This is how your text will look with the <strong style="color: <%= typeof data !== 'undefined' && data.primaryColor ? data.primaryColor : '#007bff' %>;">selected font family</strong> and colors.
              <span style="color: <%= typeof data !== 'undefined' && data.secondaryColor ? data.secondaryColor : '#6c757d' %>;">This text uses your secondary color.</span>
            </p>
            <button class="btn" style="background-color: <%= typeof data !== 'undefined' && data.primaryColor ? data.primaryColor : '#007bff' %>; color: white;">
              Primary Button
            </button>
            <button class="btn" style="background-color: <%= typeof data !== 'undefined' && data.secondaryColor ? data.secondaryColor : '#6c757d' %>; color: white;">
              Secondary Button
            </button>
          </div>
          
          <div class="wizard-navigation d-flex justify-content-between">
            <a href="/wizard/website-info" class="btn btn-secondary"><i class="fas fa-arrow-left"></i> Back</a>
            <button type="submit" class="btn btn-primary">Next <i class="fas fa-arrow-right"></i></button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<%- include('../partials/_footer') %>